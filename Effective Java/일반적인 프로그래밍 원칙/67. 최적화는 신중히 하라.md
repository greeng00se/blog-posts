> Joshua Bloch님의 Effective Java 3/E를 읽고 정리한 글입니다.
>

## 최적화는 신중히 하라

- 예전부터 내려온 프로그래밍 격언에는 명백한 최적화 방법을 찾기 전에는 최적화를 지양하라고 되어있다.
- 성능보다는 견고한 구조가 우선이다.

### 빠른 프로그램보다는 좋은 프로그램을 작성해야 한다.

- 좋은 프로그램은 정보 은닉의 원칙을 따르므로 구성요소를 독립적으로 설계할 수 있다.
- 구현 때문에 발생하는 성능 문제는 나중에 해결할 수 있지만, 아키텍처의 결함에 의한 성능 문제는 시스템 전체를 다시 작성해야 할 수 도 있다.

### 설계 시 고려해야 할 사항

- 성능을 제한하는 설계를 피해야 한다.
    - 컴포넌트, 외부 시스템과의 소통 방식와 같은 완성 후 변경하기 어려운 설계요소들이 성능 문제를 발생시키는 경우엔 미리 개선해야 한다.
- API를 설계하는 경우 성능에 주는 영향을 고려해야 한다.
    - 불필요한 동작을 하지 않는지 확인해야한다.
    - 잘 설계된 API는 보통 성능도 좋다.

### 최적화시 고려해야 할 사항

- 최적화 시도 전후로 성능을 측정해야 한다.
    - 성능이 더 안좋아질 수 도 있다.
    - 성능 측정시 JMH와 같은 성능 측정 도구를 사용하는 것도 좋은 방법이다.
- 프로파일링 도구를 사용하여 어디를 최적화 해야하는지 알아보는 방법도 있다.

## 정리

- 성능을 최적화 하려고 하기보단 견고한 구조를 우선적으로 생각해야 한다.
    - 좋은 설계는 구성 요소를 쉽게 교체할 수 있게 한다.
- 최적화를 하는 경우 꼭 성능 측정을 하면서 진행해야 한다.