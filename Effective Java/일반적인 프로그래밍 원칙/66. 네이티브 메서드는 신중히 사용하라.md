> Joshua Bloch님의 Effective Java 3/E를 읽고 정리한 글입니다.
>

## 네이티브 메서드는 신중히 사용하라

- 자바 네이티브 인터페이스(JNI)는 C나 C++ 같은 언어로 만들어진 메서드를 호출하는 기술이다.

### 네이티브 메서드의 사용

- 레지스트리 같은 플랫폼 특화 기능을 사용한다.
    - 자바 버전이 올라가면서 기능 추가가 되고 있다. 사용할만한 라이브러리가 없는 경우 네이티브 메서드를 사용해야 한다.
- 네이티브 코드로 작성된 기존 라이브러리를 사용한다.
- 성능 개선을 목적으로 결정적인 영향을 주는 영역만 네이티브 언어로 작성해서 사용한다.
    - 자바 버전이 올라가면서 성능 개선이 되었다.
    - 고성능의 다중 정밀 연산이 필요한 경우에는 네이티브 메서드를 사용하는 것을 고려해야 한다.
    

### 네이티브 메서드의 단점

- 네이티브 언어의 경우 메모리 접근이 가능하기 때문에 안전하지 않다.
- 이식성도 낮고 디버깅도 어렵다.
- 메모리 관리도 가비지 컬렉터가 자동으로 회수해주지 않기 때문에 복잡하다.
- 네이티브 메서드를 연결하는 코드를 작성해야 하는데 복잡하고 가독성이 떨어진다.

## 정리

- 네이티브 메서드가 성능을 확실하게 개선해주는 경우는 많지 않다.
- 네이티브 메서드를 꼭 사용해야 한다면, 사용하지 전에 한 번더 고려하자.