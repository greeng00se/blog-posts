> Joshua Bloch님의 Effective Java 3/E를 읽고 정리한 글입니다.
> 

## 예외의 상세 메시지에 실패 관련 정보를 담으라

- 실패 관련 정보를 담아야 하는 이유는 무엇일까?

### 예외 정보

- 예외를 잡지 못하는 경우 자바 시스템은 스택 추적(stack trace) 정보를 출력한다.
- stack trace 정보는 예외 객체의 `toString()` 메서드를 호출하여 얻는 문자열이다.
- 실패 원인을 분석하기 유일한 정보기 때문에 실패에 대한 정보를 최대한 많이 담아야 한다.

### 정보를 담아야할 때 주의 사항

- 보안에 관련된 정보는 주의해서 다뤄야하고 상세 메시지에 관련된 정보를 담아서는 안된다.
- 예외의 상세 메시지와 최종 사용자가 받는 오류 메시지를 혼동해서는 안된다.
    - 예외의 상세 메시지는 실패 원인을 분석하기 위한 정보가 들어있어야 한다.
    - 최종 사용자가 받는 오류 메시지의 경우 가독성이 중요하다.(API의 오류 메시지)
- 예외는 실패와 관련된 정보를 얻을 수 있는 접근자 메서드를 적절하게 제공하는 것이 좋다.

## 정리

- 예외를 던지는 경우 상세 메시지에 실패 원인을 분석하기 위한 정보를 담아 던져야 한다.
- 이런 실패 원인에 대한 정보는 예외를 복구하는 데 유용할 수 있음으로 검사 예외에서 빛을 발한다.