> Joshua Bloch님의 Effective Java 3/E를 읽고 정리한 글입니다.
> 

## 필요 없는 검사 예외 사용은 피하라

- 검사 예외를 사용하지 말아야하는 상황과 검사 예외의 대안을 알아보자.

### 검사 예외

- 검사 예외는 발생한 문제를 프로그래머가 처리하여 안전성을 높힌다.
- 하지만 과하게 사용한다면 사용하기 불편한 API가 된다.
- 다음과 같은 상황에서는 검사 예외를 사용하는 것이 좋다.
    - API를 제대로 사용해도 예외가 발생하는 경우
    - 프로그래머가 의미있는 조치를 취할 수 있는 경우
- 하지만 다른 경우에는 비검사 예외를 사용하는 것이 좋다.

### 검사 예외를 회피하는 방법

- 적절한 결과 타입을 담은 옵셔널을 반환하는 방법
    - 예외가 발생한 이유를 담을 수 없다는 단점이 있다.
    - 예외를 사용한다면 구체적인 예외 타입과, 부가 정보를 제공할 수 있다.
- 검사 예외를 던지는 메서드를 두개로 쪼개 비검사 예외로 변환시킨다.
    - 상태 검사 메서드와, 상태 의존 메서드로 나누는 방법이다.
    - 유연한 방법이지만 상태 검사 메서드의 단점이 그대로 적용된다.

```java
// 검사 예외를 던지는 메서드
try {
    obj.action(args);
} catch (TheCheckedException e) {
    ...
}

// 상태 검사 메서드와 비검사 예외를 던지는 메서드
// actionPermitted는 예외 발생 여부를 boolean으로 반환한다.
if (obj.actionPermitted(args)) {
    obj.action(args);
} else {
    ...
}
```

## 정리

- 꼭 필요한 경우에만 검사 예외를 던져야 한다.
- 예외 상황에서 복구할 방법이 없다면 → 비검사 예외
- 복구가 가능하고 클라이언트 쪽에서 처리를 해주길 바란다면 → 옵셔널 반환 고려
- 옵셔널로으로는 상황을 처리하기 어려운 경우 → 검사 예외